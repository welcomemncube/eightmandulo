'use strict';(d=>{function h(b,a){this.element=b;!a.panel&&b.hasAttribute("href")&&(a.panel=b.getAttribute("href"),a.panel&&"#"!==a.panel||(a.panel=k.panel));this.settings=Object.assign({},k,a);this.panelVisible=!1;const c={"#":"",".":""," ":"-"};this.panelCleanName=this.settings.panel.replace(/#|\.|\s/g,f=>c[f]);this.init()}const k={panel:"#mobile-menu",close:"",side:"right",hasOverlay:!0,beforeShow:null,afterShow:null,beforeHide:null,afterHide:null},g=[];let e=null;h.prototype={init(){const b=this;
null===e&&!0===this.settings.hasOverlay&&(e=document.createElement("div"),e.className="body-overlay",e.style.display="none",e.addEventListener("click",function(){for(var a=g.length-1;-1<a;--a)g[a].hidePanel()},{passive:!0}),d.body[0].appendChild(e),e.style.display="");this.element.addEventListener("click",function(a){a.preventDefault();b.panelVisible?b.hidePanel():(b.showPanel(),a.screenX&&a.screenY||(a=document.querySelector(b.settings.panel+" a"),null!==a&&a.focus()))});if(""!==b.settings.close){const a=
document.querySelector(b.settings.close);null!==a&&a.addEventListener("click",function(c){c.preventDefault();b.hidePanel()})}},showPanel(){if(!1===this.panelVisible){d.trigger("tf_fixed_header_remove_revelaing");const b=this.settings.panel,a=this,c=document.querySelector(b);c.style.display="block";setTimeout(()=>{this.settings.beforeShow&&this.settings.beforeShow.call(this);!1===this.panelVisible&&(null!==c&&(c.addEventListener("transitionend",()=>{a.settings.afterShow&&a.settings.afterShow.call(a);
d.trigger("sidemenushow.themify",[b,a.settings.side,a])},{passive:!0,once:!0}),c.classList.remove("sidemenu-off"),c.classList.add("sidemenu-on")),d.body[0].classList.add(a.panelCleanName+"-visible","sidemenu-"+a.settings.side),null!==e&&e.classList.add("body-overlay-on"),this.panelVisible=!0)},5)}},hidePanel(b){if(!0===this.panelVisible){const a=document.querySelector(this.settings.panel);this.settings.beforeHide&&this.settings.beforeHide.call(this);null!==a&&(a.addEventListener("transitionend",function(){this.style.display=
""},{passive:!0,once:!0}),a.classList.remove("sidemenu-on"),a.classList.add("sidemenu-off"));d.body[0].classList.remove(this.panelCleanName+"-visible");b!==this.settings.side&&d.body[0].classList.remove("sidemenu-"+this.settings.side);this.settings.afterHide&&this.settings.afterHide.call(this);d.trigger("sidemenuhide.themify",[this.settings.panel]);null!==e&&e.classList.remove("body-overlay-on");this.panelVisible=!1}}};d.on("tf_sidemenu_init",(b,a,c)=>{b instanceof jQuery?b=b.get():void 0===b.length&&
(b=[b]);for(let f=b.length-1;-1<f;--f)g.push(new h(b[f],a));c&&c()}).on("tf_side_menu_hide_all",()=>{for(let b=g.length-1;-1<b;--b)g[b].hidePanel()}).body[0].classList.add("sidemenu-active");if("undefined"!==typeof themify_vars)d.on("tfsmartresize",b=>{b&&b.w!==d.w&&b.w>themify_vars.menu_point&&d.trigger("tf_side_menu_hide_all")})})(Themify);
